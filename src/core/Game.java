package core;
import commands.*;

import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

public class Game {
    private Map<String, Command> commands;
    private Player player;
    private World world;
    private CreateWorld createWorld;

    public Game() {
        this.commands = new HashMap<>();
        this.player = new Player(3);
        this.world = new World();
        this.createWorld = new CreateWorld(world);
        createWorld.fillWorld();
        registerCommands();
        createWorld.saveWorld();

//        for (String itemId : world.getItems().keySet()) {
//            Item item = world.getItem(itemId);
//            player.addItem(item.getId());
//        }
    }


    public void registerCommands() {
        commands.put("go", new GoCommand(this.player, this.world));
        commands.put("take", new TakeCommand(this.world, this.player));
        commands.put("put", new PutCommand(this.world, this.player));
        commands.put("talk", new TalkCommand(this.player, this.world));
        commands.put("explore", new ExploreCommand(this.world, this.player));
        commands.put("backpack", new BackpackCommand(this.player, this.world));
        commands.put("help", new HelpCommand(this, this.world));
        commands.put("exit", new ExitCommand());
        commands.put("map", new MapCommand(this.world, this.player));
    }

    public boolean StartCommand(String key) {
        String[] parts = key.split("\\s+");

        Command command = commands.get(parts[0]);

        if (command == null) {
            System.out.println("Neplatný příkaz");
            return true;
        }
        return command.execute(parts);
    }

    public void run () {
        boolean running = true;

        System.out.println("                                                                                                                                                      \n" +
                "                                                                                                                                                      \n" +
                "                                                                                                                                                      \n" +
                "                                                                                                                                                      \n" +
                "                                                            ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                            \n" +
                "                                                      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                      \n" +
                "                                                 ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                 \n" +
                "                                             ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                             \n" +
                "                                         ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑        ↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                         \n" +
                "                                      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑        ↑↑↑↑          ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                      \n" +
                "                                    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑               ↑↑↑↑        ↑↑↑↑               ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                    \n" +
                "                                 ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                   ↑↑↑↑        ↑↑↑↑                   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                 \n" +
                "                               ↑↑↑↑↑↑↑↑↑↑↑↑↑                       ↑↑↑↑        ↑↑↑↑                       ↑↑↑↑↑↑↑↑↑↑↑↑↑                               \n" +
                "                             ↑↑↑↑↑↑↑↑↑↑↑↑                          ↑↑↑↑        ↑↑↑↑                          ↑↑↑↑↑↑↑↑↑↑↑↑                             \n" +
                "                           ↑↑↑↑↑↑↑↑↑↑↑↑                            ↑↑↑↑        ↑↑↑↑                            ↑↑↑↑↑↑↑↑↑↑↑↑                           \n" +
                "                         ↑↑↑↑↑↑↑↑↑↑↑                               ↑↑↑↑        ↑↑↑↑                               ↑↑↑↑↑↑↑↑↑↑↑                         \n" +
                "                        ↑↑↑↑↑↑↑↑↑↑                                 ↑↑↑↑        ↑↑↑↑                                 ↑↑↑↑↑↑↑↑↑↑                        \n" +
                "                      ↑↑↑↑↑↑↑↑↑↑                                   ↑↑↑↑        ↑↑↑↑                                   ↑↑↑↑↑↑↑↑↑↑                      \n" +
                "                     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                     \n" +
                "                   ↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑                   \n" +
                "                  ↑↑↑↑↑↑↑↑↑   ↑↑↑↑                                                                                  ↑↑↑↑   ↑↑↑↑↑↑↑↑↑                  \n" +
                "                 ↑↑↑↑↑↑↑↑↑    ↑↑↑↑                                                                                  ↑↑↑↑    ↑↑↑↑↑↑↑↑↑                 \n" +
                "                ↑↑↑↑↑↑↑↑      ↑↑↑↑                                                                                  ↑↑↑↑      ↑↑↑↑↑↑↑↑                \n" +
                "               ↑↑↑↑↑↑↑↑       ↑↑↑↑                                                                                  ↑↑↑↑       ↑↑↑↑↑↑↑↑               \n" +
                "              ↑↑↑↑↑↑↑↑        ↑↑↑↑                                                                                  ↑↑↑↑        ↑↑↑↑↑↑↑↑              \n" +
                "             ↑↑↑↑↑↑↑↑         ↑↑↑↑                                                                                  ↑↑↑↑         ↑↑↑↑↑↑↑↑             \n" +
                "            ↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑            \n" +
                "            ↑↑↑↑↑↑↑           ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑            \n" +
                "           ↑↑↑↑↑↑↑↑         ↑↑↑↑↑↑↑↑↑                ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                 ↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑           \n" +
                "          ↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑         ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑          \n" +
                "          ↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑       ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑          \n" +
                "         ↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑         \n" +
                "         ↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑         \n" +
                "        ↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑         \n" +
                "        ↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑                      ↑↑↑↑↑↑↑        \n" +
                "        ↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑   ↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑                      ↑↑↑↑↑↑↑        \n" +
                "        ↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑           ↑↑↑↑↑↑↑↑↑↑↑                      ↑↑↑↑↑↑↑        \n" +
                "       ↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑         ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑↑↑                       ↑↑↑↑↑↑↑        \n" +
                "       ↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑             ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑       ↑↑↑↑↑↑↑↑↑↑↑↑↑                      ↑↑↑↑↑↑↑       \n" +
                "       ↑↑↑↑↑↑↑       ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑       \n" +
                "       ↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑         ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑           ↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑       \n" +
                "       ↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑       ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑  ↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑       \n" +
                "       ↑↑↑↑↑↑↑             ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑            ↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑       \n" +
                "       ↑↑↑↑↑↑↑                 ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑             ↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑           ↑↑↑↑↑↑↑       \n" +
                "       ↑↑↑↑↑↑↑                    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑            ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑       ↑↑↑↑↑↑↑           ↑↑↑↑↑↑↑       \n" +
                "        ↑↑↑↑↑↑↑             ↑        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑↑↑↑↑↑↑            ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑                         ↑↑↑↑↑↑↑        \n" +
                "        ↑↑↑↑↑↑↑            ↑↑↑↑↑       ↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑              ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑                         ↑↑↑↑↑↑↑        \n" +
                "        ↑↑↑↑↑↑↑           ↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑                 ↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑                         ↑↑↑↑↑↑↑        \n" +
                "        ↑↑↑↑↑↑↑↑         ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑                        ↑↑↑↑↑↑↑↑        \n" +
                "         ↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑↑↑↑                        ↑↑↑↑↑↑↑         \n" +
                "         ↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑                  ↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑                    ↑↑↑↑↑↑↑↑         \n" +
                "          ↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑              ↑↑↑↑              ↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                 ↑↑↑↑↑↑↑          \n" +
                "          ↑↑↑↑↑↑↑↑            ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑       ↑↑↑        ↑↑↑↑↑            ↑    ↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑             ↑↑↑↑↑↑↑↑          \n" +
                "           ↑↑↑↑↑↑↑↑                         ↑↑↑↑↑↑↑↑    ↑↑↑   ↑↑↑↑↑       ↑↑↑↑   ↑↑       ↑↑↑ ↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑          ↑↑↑↑↑↑↑↑           \n" +
                "            ↑↑↑↑↑↑↑                       ↑↑↑↑↑↑↑   ↑↑↑ ↑↑↑↑ ↑↑↑↑↑↑↑     ↑↑↑↑↑  ↑↑↑↑     ↑↑↑ ↑↑↑↑↑   ↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑         ↑↑↑↑↑↑↑↑            \n" +
                "            ↑↑↑↑↑↑↑↑                    ↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑       ↑↑ ↑↑↑ ↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑         ↑↑↑↑↑↑↑↑            \n" +
                "             ↑↑↑↑↑↑↑↑                 ↑↑↑↑↑↑   ↑↑↑   ↑↑↑↑ ↑↑↑↑↑↑       ↑↑↑↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑        ↑↑↑↑↑↑↑↑             \n" +
                "              ↑↑↑↑↑↑↑↑               ↑↑↑↑↑     ↑↑↑↑↑↑ ↑↑↑  ↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑↑  ↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑    ↑↑↑        ↑↑↑↑↑↑↑↑              \n" +
                "               ↑↑↑↑↑↑↑↑             ↑↑↑↑↑      ↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑    ↑↑ ↑  ↑↑↑↑↑     ↑       ↑↑↑↑↑↑↑↑               \n" +
                "                ↑↑↑↑↑↑↑↑↑         ↑↑↑↑↑  ↑↑↑↑↑  ↑↑↑↑ ↑↑  ↑↑↑↑↑↑↑↑↑                  ↑↑↑↑↑↑↑↑↑   ↑↑↑     ↑↑↑↑   ↑↑↑↑↑         ↑↑↑↑↑↑↑↑↑                \n" +
                "                 ↑↑↑↑↑↑↑↑↑       ↑↑↑↑↑  ↑↑↑↑↑↑↑  ↑↑↑  ↑↑↑↑↑↑↑                            ↑↑↑↑↑↑↑ ↑↑↑↑ ↑↑↑↑↑↑ ↑  ↑↑↑↑↑       ↑↑↑↑↑↑↑↑↑                 \n" +
                "                  ↑↑↑↑↑↑↑↑↑     ↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑                                  ↑↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑     ↑↑↑↑↑↑↑↑↑                  \n" +
                "                   ↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑ ↑↑↑↑↑↑                                      ↑↑↑↑↑↑ ↑ ↑↑↑↑↑↑     ↑↑↑↑↑  ↑↑↑↑↑↑↑↑↑↑                   \n" +
                "                     ↑↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑↑ ↑↑↑↑  ↑↑↑↑↑                                          ↑↑↑↑↑  ↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                     \n" +
                "                      ↑↑↑↑↑↑↑↑↑↑↑↑  ↑↑↑ ↑↑↑    ↑↑↑↑↑                                              ↑↑↑↑↑ ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                      \n" +
                "                        ↑↑↑↑↑↑↑↑↑↑  ↑↑↑↑↑↑↑   ↑↑↑↑↑                                                ↑↑↑↑↑ ↑↑↑↑↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑                        \n" +
                "                         ↑↑↑↑↑↑↑↑↑↑↑    ↑↑↑↑ ↑↑↑↑↑                                                  ↑↑↑↑↑  ↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑                          \n" +
                "                           ↑↑↑↑↑↑↑↑↑↑↑       ↑↑↑↑                                                    ↑↑↑↑  ↑↑   ↑↑↑↑↑↑↑↑↑↑↑                           \n" +
                "                             ↑↑↑↑↑↑↑↑↑↑↑↑   ↑↑↑↑                                                      ↑↑↑↑   ↑↑↑↑↑↑↑↑↑↑↑↑                             \n" +
                "                               ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                        ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                               \n" +
                "                                  ↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                       ↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                 \n" +
                "                                    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                               ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                    \n" +
                "                                       ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                     ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                       \n" +
                "                                         ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                          \n" +
                "                                             ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                             \n" +
                "                                                 ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                 \n" +
                "                                                      ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                      \n" +
                "                                                               ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑                                                            \n" +
                "                                                                                                                                                      \n" +
                "                                                                                                                                                      \n" +
                "                                                                                                                                                      \n" +
                "                                                                                                                                                      ");

        System.out.println("Vítej ve hře „Únik z Ječné“.\n" +
                "\n" +
                "Jsi student, který po skončení vyučování zůstal ve škole déle,\n" +
                "aby dokončil práci na projektu. Když se ale setmělo, škola se\n" +
                "uzamkla, světla zhasla a většina lidí už odešla.\n" +
                "\n" +
                "Teď jsi v budově sám.\n" +
                "Prozkoumávej místnosti, mluv s postavami a sbírej předměty,\n" +
                "které ti pomohou najít cestu ven.");
        System.out.println();
        System.out.println("CÍL HRY:\n" +
                "Tvým cílem je opustit školu hlavním vchodem.\n" +
                "\n" +
                "Aby se ti to podařilo, musíš:\n" +
                "> prozkoumávat školu a její místnosti,\n" +
                "> plnit úkoly pro ostatní postavy,\n" +
                "> získat potřebné itemy, kódy a hesla.\n" +
                "\n" +
                "Jakmile získáš potřebné itemy k otevření hlavnícho vchodu,\n" +
                "unikl jsi a vítězíš.");

        Command help = commands.get("help");
        help.execute(null);

        Scanner sc = new Scanner(System.in);

        while (running) {
            System.out.print("command id>");
            String input = sc.nextLine().toLowerCase();
            running = StartCommand(input);
        }
        endGame();
    }

    public void endGame () {
        if (player.getHasWon()){
            System.out.println("Uspěšně jsi odemkl hlavní vchod!");
            System.out.println("----------------------------------------------------------------------------------------------------------------");
            System.out.println("Gratuluji, vyhrál jsi!");
        } else System.out.println("Hodně štěstí příště.");
        System.out.println("Konec hry.");
    }

    public Map<String, Command> getCommands() {
        return commands;
    }
}